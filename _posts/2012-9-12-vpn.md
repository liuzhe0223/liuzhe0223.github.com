---
layout: post
title: 在服务器上搭个vpn
tags: [服务器]
category: 闲
---

最近我们发现校园网内宿舍区可以ping通办公区的ip(在校园网没有认真的情况下），于是我们萌发的代理上网的念头（屌丝穷能省点网费就省点吧），开始当然就是使用常用的ssh，但是这种方法在全局代理上不好设置（我是没弄好），而且速度有点慢，放弃。


后来就想到用vpn，是在ubuntu server上的pptpd 这个好配置，openvpn有点小复杂，而且好像还要用客户端软件。ubuntu server上的pptpd配置方法请参考[自己动手搭建vpn](http://azaleasays.com/2011/03/28/build-your-own-vpn/) (一个不错的blog，博主是个女生也喜欢python。)  因为这台服务器放在教学区，办公室路由器是废pc弄得一台x86的openwrt，让我在windows上测试vpn时总是连不上，ubuntu上正常链接，不知什么原因，回宿舍后链接正常。在宿舍测试下网速，迅雷下载个电影试试，刚开始正常，看着速度往上标，心中窃喜啊，一会就到了4-5m每秒的速度，突然就断啦，试了好几次都是这种情况。看样得弄个直接代理的方法,google到squid。昨晚上马伟伟同学gtalk我，他在实验室服务器上弄了个squid代理，顿时欣喜，这样就不用加密解密的降低速度，而且还不用什么的一直链接，唯一的缺点是没有认证，只能内部保密啦，毕竟资源有限.刚在教学区的那台服务器上配上了squid（参考 [ubuntu中文squid](http://wiki.ubuntu.org.cn/Squid%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3) ，我又把配置文件中的 http_access 设置成了 allow all）。还得再找几个服务器资源才好

更正:
=======

squid认证相关    http://home.arcor.de/pangj/squid/chap12.html
