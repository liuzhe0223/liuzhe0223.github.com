<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>liuzhe</title>
 <link href="http://liuzhe0223.github.com/atom.xml" rel="self"/>
 <link href="http://liuzhe0223.github.com"/>
 <updated>2012-11-10T22:45:01+08:00</updated>
 <id>http://liuzhe0223.github.com</id>
 <author>
   <name>liuzhe</name>
   <email>liuzhe0223@gmail.com</email>
 </author>

 
 <entry>
   <title>新arch安装小计</title>
   <link href="http://liuzhe0223.github.com/学习/2012/11/09/my_new_arch_installtion"/>
   <updated>2012-11-09T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/学习/2012/11/09/my_new_arch_installtion</id>
   <content type="html">&lt;p&gt;不用arch已经有一段时间啦，看完孙同学的帖子，又勾起了我的。。 小记一下这次安装,主要是遇到的问题&lt;/p&gt;

&lt;p&gt;安装基本系统&lt;/p&gt;

&lt;p&gt;这次arch的安装方式和以前大不一样，还是看wiki。因为正在使用ubuntu，/home 的挂载分区准备留着&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;首先在win上下载了一个linuxliveusb-creator 的小软件做了一个 arch的usb安装u盘（有点惭愧啊，用瘟到死啦，历史因素，当还是小白时就用这个了），wiki上提到还可以在linux上用dd直接将镜像写到优盘。 64位arch的安装（个人喜好），这次就没有原来的setup工具啦，看wiki的流程，需要手动对硬盘进行分区，用fdisk或者cfdisk，cfdisk 稍微直观一点，因为我没有想要改变分区，所以直接对硬盘进行格式化，我习惯linux分区为四个，/boot ,/ ,/home ,swap。所以我只对boot和根需要的分区格式化,详细请看 &lt;a href='https://wiki.archlinux.org/index.php/Installation_Guide'&gt;archwiki&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;安装基本系统一定要注意各分区在/mnt下的挂载, pacstrap 安装完基本系统后 chroot到 /mnt下目的系统时,就是需要修改一些配置文件(除了下面其他的没有修改,应为不太懂), 我修改了:&lt;/p&gt;

&lt;p&gt;locale.conf&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;LANG=&amp;quot;en_US.UTF-8&amp;quot;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;locale.gen 将其中 zh_cn 开头的行解注释 , 还有 en_US.UTF-8 解注释, 是本地支持所选的字符集好要执行命令:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;locale-gen&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;设定时区:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;mkinitcpio -p linux 生成内核镜像 wiki中前几步中已经把 grub 安装到系统里了, 配置完以上以后, 就要配置grub了, 首先将grub的引导 安装到硬盘, 然后生成 grub.cfg&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;grub-install   /dev/sda
grub-makconfig  &amp;gt; /boot/grub/grub.cfg&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;exit 退出目的系统, unmount 后 重启&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;接下来要配置x 先执行 &lt;a href='https://wiki.archlinux.org/index.php/Beginners%27_Guide'&gt;archwiki&lt;/a&gt; 上的几步,测试完x 之后安装桌面环境, 我这几天一直在用kde 所以来个kde, 我先安装了 kdebase一路默认安完然后又安装 dbus, 接着应该用 systemctl enbale dus 让他开机启动, 但报错啦, 有人说使用systemd就默认开启啦, 后来正式确实是, 我的命令如下, 开始前先对 mirrlist 修改, 我将163的放在最前面,然后执行 dhcpd 获取ip:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -S  kdebase
	pacman -S  kde-l10n-zh_cn
pacman -S  wqy-zenhei
systemctl enable kdm&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;接下来添加一个的用户, 重启就能进kde啦&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;装完系统后就来配置我的开发环境, ruby on rails, 当然是 &lt;a href='http://ruby-china.org/wiki/install_ruby_guide'&gt;ruby-chian-wiki&lt;/a&gt;所不同的是 依赖包, 先不用装 ,先装好rvm ,然后 rvm requirement 查看提示安装依赖包. 安装 mysql后配置root密码,使用命令:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mysql-secure-installation .&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;zsh 和 oh-my-zsh 的主题 &lt;a href='https://github.com/robbyrussell/oh-my-zsh'&gt;参考&lt;/a&gt; github上的安装指南&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;vim 并安装bundule &lt;a href='https://github.com/gmarik/vundle'&gt;参考&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;播放器 mplayer 还有 音乐播放器cmus , 我的第二编辑器 sublime(这个要先安装yaourt &lt;a href='https://wiki.archlinux.org/index.php/Yaourt'&gt;参考&lt;/a&gt;)gtalk kde下用 kdenetwork-kopete, 还有新发现的一个好用的终端模拟器 yakuake, chromium 浏览器&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;中文输入 fcitx 并 yaourt 了 googlepinyin 输入法 ,fcitx需要简单配置, 编辑 ~/.xprofile 添加:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export XMODIFIERS=@im=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;还有就是装完后状态栏没有声音选项, 然后又装了 kde-multimedia.现在就是这些&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>新版arch，碉堡啦</title>
   <link href="http://liuzhe0223.github.com/闲/2012/09/13/the_new_arch"/>
   <updated>2012-09-13T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/闲/2012/09/13/the_new_arch</id>
   <content type="html">&lt;p&gt;看了孙建希同学的&lt;a href='http://jianxi.info/blog/2012/09/13/arch-install/'&gt;arch-install&lt;/a&gt; 不禁的手痒想,想再装一下新的arch，怀念arch，用虽然不是我用第一个linux的发行版，却是我用的目前为止时间最长的一个发行版，有空试试&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>在服务器上搭个vpn</title>
   <link href="http://liuzhe0223.github.com/闲/2012/09/12/vpn"/>
   <updated>2012-09-12T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/闲/2012/09/12/vpn</id>
   <content type="html">&lt;p&gt;最近我们发现校园网内宿舍区可以ping通办公区的ip(在校园网没有认真的情况下），于是我们萌发的代理上网的念头（屌丝穷能省点网费就省点吧），开始当然就是使用常用的ssh，但是这种方法在全局代理上不好设置（我是没弄好），而且速度有点慢，放弃。 &lt;br /&gt; 后来就想到用vpn，是在ubuntu server上的pptpd 这个好配置，openvpn有点小复杂，而且好像还要用客户端软件。ubuntu server上的pptpd配置方法请参考&lt;a href='http://azaleasays.com/2011/03/28/build-your-own-vpn/'&gt;自己动手搭建vpn&lt;/a&gt; (一个不错的blog，博主是个女生也喜欢python。) 因为这台服务器放在教学区，办公室路由器是废pc弄得一台x86的openwrt，让我在windows上测试vpn时总是连不上，ubuntu上正常链接，不知什么原因，回宿舍后链接正常。在宿舍测试下网速，迅雷下载个电影试试，刚开始正常，看着速度往上标，心中窃喜啊，一会就到了4-5m每秒的速度，突然就断啦，试了好几次都是这种情况。看样得弄个直接代理的方法,google到squid。昨晚上马伟伟同学gtalk我，他在实验室服务器上弄了个squid代理，顿时欣喜，这样就不用加密解密的降低速度，而且还不用什么的一直链接，唯一的缺点是没有认证，只能内部保密啦，毕竟资源有限.刚在教学区的那台服务器上配上了squid（参考 &lt;a href='http://wiki.ubuntu.org.cn/Squid%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3'&gt;ubuntu中文squid&lt;/a&gt; ，我又把配置文件中的 http_access 设置成了 allow all）。还得再找几个服务器资源才好&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>读编程珠玑1</title>
   <link href="http://liuzhe0223.github.com/学习/2012/08/10/programming_pearls1"/>
   <updated>2012-08-10T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/学习/2012/08/10/programming_pearls1</id>
   <content type="html">&lt;p&gt;编程珠玑读书：&lt;/p&gt;

&lt;p&gt;第一章，这一章介绍了一个我从来没接触过的一个数据排序时的技巧 是由固定小内存下硬盘数据排序索引出的,使用位图排序，在相对理想 的数据下，即数据不重复，最好是相对集中一点时，当数据为整数最 大值小于n时，可以用内存中连续的n位做中介尽行排序，就是，现将 连续的内存空间置零，当遇到从硬盘取出数据时，将对应位置为1,数 据读完后在一并读出，这样细算一下就省了和多内存，书上说这叫位 图排序。 从这个基本的技巧出发当数据的规模和离散程度发生变化时就可以根 据实际情况对算法的细节进行改变，比如数据会有重复时可以再加几 位作为计数位等等，以前从来没有这样想过，还是有书读好。&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>python利用google天气api写天气预报</title>
   <link href="http://liuzhe0223.github.com/学习/2012/08/06/python_weather"/>
   <updated>2012-08-06T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/学习/2012/08/06/python_weather</id>
   <content type="html">&lt;p&gt;昨天开始利用google的天气api写一个天气预报的小应用，现在部署在sae上， 定时向指定的邮箱发送天气预报邮件,配合139邮箱就能使用手机接收. 由于完成初步，参数都是写死的，也不留链接啦。&lt;/p&gt;

&lt;p&gt;说说期间遇到的问题：&lt;/p&gt;

&lt;p&gt;由于google天气返回的是xml格式的数据 在weather后加上地址就行啦，hl=zh_cn 表示返回的xml data值为中文&lt;/p&gt;

&lt;p&gt;所以先找了python解析xml的模块，python有很多 ｘｍｌ的解析模块 开始因为 xml 读取的字符编码问题 用好几个模块，每次的初始化都报错 （xml 字符串得到的方式: xml = urllib2.urlopen(url).read())&lt;/p&gt;

&lt;p&gt;后来用beautifulsoup这个模块解析不报错，官方文档上说它先把数据转成utf-8的编码格式&lt;/p&gt;

&lt;p&gt;我刚开始也认为应该进行转码（获得的字符串是accii的），转为unicode时认为google 返回的xml应该是utf-8的，但 xml.decode(&amp;#8216;utf-8&amp;#8217;) 一直报错，万没想到的是 ta居然是 gb2312的， xml.decode(&amp;#8216;gb2312&amp;#8217;).encode(&amp;#8216;urf-8&amp;#8217;) , 解决， 具体解析ｘｍｌ代码： https://github.com/liuzhe0223/code/blob/master/python/google_weather.py&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>换了永中office</title>
   <link href="http://liuzhe0223.github.com/闲/2012/07/15/%E6%8D%A2%E6%B0%B8%E4%B8%ADoffice"/>
   <updated>2012-07-15T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/闲/2012/07/15/换永中office</id>
   <content type="html">&lt;p&gt;在苦等wps for linux时意外发现永中的 office2012 青年版，适用一下,除了字体渲染不是太好&amp;#8230; 安装了永中宋体后好一点 顺便说一下最近在写一个在线调查问卷系统,用django，只是之前没做过什么成型的东西，有点不知从哪下手，试写中&amp;#8230;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>pythonrss2</title>
   <link href="http://liuzhe0223.github.com/学习/2012/05/13/pythonrss2"/>
   <updated>2012-05-13T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/学习/2012/05/13/pythonrss2</id>
   <content type="html">&lt;p&gt;这两天去做acm省赛的志愿者，没有blog&lt;/p&gt;

&lt;p&gt;继续上次的blog&lt;/p&gt;

&lt;p&gt;上次之后继续看了几行python的官方文档，sql执行后应该执行一数据库链接对象的commit（）方法（假如链接对象为conn，conn.commit())。写好rss的抓取存储脚本rss.py,执行，查看数据库中有数据啦，甚是高兴，遂立即去刷页面，却发现数据库中取出的html格式的数据被原样打出，甚是不解啊，查看页面属性,看到对应的页面html源码处，取出数据两端有引号。&lt;/p&gt;

&lt;p&gt;去查数据库中的文件，发现数据没有引号，猜想应该是django中模板解释时有错，去查看django模板的详细文档，看到模板解释时遇到html格式会转义&lt;/p&gt;

&lt;p&gt;在i.comtent前后分别加上 autoescape off 和 endautoescape 标签，这样i.content中的html就不会被转义la:&lt;/p&gt;

&lt;p&gt;页面刷新，漂亮的界面出来啦&lt;/p&gt;

&lt;p&gt;等待完善rss.py，数据过滤等功能&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>python抓取rss</title>
   <link href="http://liuzhe0223.github.com/学习/2012/05/10/pythonrss"/>
   <updated>2012-05-10T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/学习/2012/05/10/pythonrss</id>
   <content type="html">&lt;p&gt;马伟伟同学说过想做一个rss的采集，这几天找出时间，看feedparser这个rss的抓取模块&lt;/p&gt;

&lt;p&gt;前几天了解feedparser抓回来的字典树，树比较大，先做个简单的，title，link，简短的content，和时间，分别用到 字典树中的，entries&lt;span&gt;i&lt;/span&gt;.title,entries&lt;span&gt;i&lt;/span&gt;.link,entries&lt;span&gt;i&lt;/span&gt;.summary,entries&lt;span&gt;i&lt;/span&gt;.published。&lt;/p&gt;

&lt;p&gt;今天做的是将 抓回来的 数据存入数据库，然后用python的django框架将数据展示出来，直接拿bootsrap的一个example做首页（也只打算先做这一个页），展示的部分比较简单的做好le。剩下的就是将抓取的数据存入数据库，数据库用的sqlite3（麻雀虽小，五脏俱全），做测试方便。feedparser抓取信息，向数据库中存时遇到问题，我用for循环来存数据，涉及到sql语句中出现变量，就使用python中字符串中的变量情况来凑sql语句（insert into xxx values(xxx,&amp;#8217;%s&amp;#8217;&amp;#8230;.) % (a,..)),一直error，google啊，最后还是在python的官方文档中看到了正确的写法:&lt;/p&gt;

&lt;p&gt;purchases = &lt;span&gt;a,b,c,d,e&lt;/span&gt; #abcde是变量 c.executemany(&amp;#8216;INSERT INTO stocks VALUES (?,?,?,?,?)&amp;#8217;, purchases)&lt;/p&gt;

&lt;p&gt;在ipython中通过循环执行sql语句，显示数据已存入数据库，但在实际文件中，并没有数据，可能是先缓存着，还没有写入真实文件，到时间啦，明天再看。。。&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>rails生成新项目出错-ubuntu</title>
   <link href="http://liuzhe0223.github.com/学习/2012/05/08/rails_error"/>
   <updated>2012-05-08T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/学习/2012/05/08/rails_error</id>
   <content type="html">&lt;p&gt;rails 生成新项目时 bundle install 出错:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Gem files will remain installed in /home/mlzboy/.rvm/gems/ruby-1.9.3-p0/gems/sqlite3-1.3.5 for inspection.
Results logged to /home/mlzboy/.rvm/gems/ruby-1.9.3-p0/gems/sqlite3-1.3.5/ext/sqlite3/gem_make.out
An error occured while installing sqlite3 (1.3.5), and Bundler cannot continue.
Make sure that `gem install sqlite3 -v &amp;#39;1.3.5&amp;#39;` succeeds before bundling.&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;应该是缺少需要的sqlite的库文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install libsqlite3-dev&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>台式机上的双显</title>
   <link href="http://liuzhe0223.github.com/闲/2012/03/17/%E5%8F%B0%E5%BC%8F%E6%9C%BA%E4%B8%8A%E7%9A%84%E5%8F%8C%E6%98%BE%E7%A4%BA%E5%99%A8"/>
   <updated>2012-03-17T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/闲/2012/03/17/台式机上的双显示器</id>
   <content type="html">&lt;p&gt;一直写代码和测试不方便,今天看见大双插上双显，遂去机房搬来大头显示器一个，只有vga口，就接在了本来不用的集成显卡上，进archlinux，大头一直停在udev看样是没找到驱动，本来的液晶显示器进入系统，装上集成显卡的驱动，rboot，只有液晶显示器显示，google几个没解决，就把孙建希同学的高清线拿来插上,先用。 问题有空再弄。&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>First blog</title>
   <link href="http://liuzhe0223.github.com/闲/2012/02/26/first_post"/>
   <updated>2012-02-26T00:00:00+08:00</updated>
   <id>http://liuzhe0223.github.com/闲/2012/02/26/first_post</id>
   <content type="html">&lt;p&gt;弄完blog,发一个 。&lt;/p&gt;</content>
 </entry>
 
 
</feed>