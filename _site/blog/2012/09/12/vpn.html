<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>在服务器上搭个vpn来蹭校园网</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">liuzhe</a></h1>
            <a class='extra' href="/">blog</a>
            <a class="extra" href="/note.html">note</a>
          </div>

          <h2>在服务器上搭个vpn来蹭校园网</h2>
<p class="meta">12 Sep 2012</p>

<div class="post">
<p>最近我们发现校园网内宿舍区可以ping通办公区的ip(在校园网没有认真的情况下），于是我们萌发的代理上网的念头（屌丝穷能省点网费就省点吧），开始当然就是使用常用的ssh，但是这种方法在全局代理上不好设置（我是没弄好），而且速度有点慢，放弃。</p>

<p>后来就想到用vpn，是在ubuntu server上的pptpd 这个好配置，openvpn有点小复杂，而且好像还要用客户端软件。ubuntu server上的pptpd配置方法请参考<a href="http://azaleasays.com/2011/03/28/build-your-own-vpn/">自己动手搭建vpn</a> (一个不错的blog，博主是个女生也喜欢python。)  因为这台服务器放在教学区，办公室路由器是废pc弄得一台x86的openwrt，让我在windows上测试vpn时总是连不上，ubuntu上正常链接，不知什么原因，回宿舍后链接正常。在宿舍测试下网速，迅雷下载个电影试试，刚开始正常，看着速度往上标，心中窃喜啊，一会就到了4-5m每秒的速度，突然就断啦，试了好几次都是这种情况。看样得弄个直接代理的方法,google到squid。昨晚上马伟伟同学gtalk我，他在实验室服务器上弄了个squid代理，顿时欣喜，这样就不用加密解密的降低速度，而且还不用什么的一直链接，唯一的缺点是没有认证，只能内部保密啦，毕竟资源有限.刚在教学区的那台服务器上配上了squid（参考 <a href="http://wiki.ubuntu.org.cn/Squid%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3">ubuntu中文squid</a> ，我又把配置文件中的 http_access 设置成了 allow all）。还得再找几个服务器资源才好</p>

<h1>更正:</h1>

<p>squid认证相关    http://home.arcor.de/pangj/squid/chap12.html</p>

</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'liuzhe0223'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
               liuzhe 
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/liuzhe0223">github.com/liuzhe0223</a><br />
                <a href="https://twitter.com/liuzhe0223">twitter.com/liuzhe0223</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
